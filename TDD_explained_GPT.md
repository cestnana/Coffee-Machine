Test-Driven Development (TDD，測試導向開發) 是一種軟體開發方法，它強調在撰寫功能程式碼前，先撰寫測試。這種方式不僅有助於確保程式的正確性，也讓開發者更專注於需求與設計。讓我們一步一步來看：

TDD 的核心流程：紅-綠-重構 (Red-Green-Refactor)

	1.	撰寫失敗的測試 (Red)
	•	在撰寫功能程式碼前，先針對你要開發的功能撰寫測試。
	•	這個測試一開始會失敗（紅燈），因為對應的功能尚未實作。
	2.	撰寫程式碼通過測試 (Green)
	•	寫出最簡單的程式碼讓測試通過（即綠燈）。
	•	此時不必追求最完美的解法，重點是讓測試順利通過。
	3.	重構程式碼 (Refactor)
	•	在測試通過後，開始重構程式碼（整理、更優化），以提升程式的品質和可讀性，確保測試仍然通過。

這個過程會反覆進行，逐步構建出完整且可靠的功能。

TDD 的例子

假設你要開發一個簡單的加法函數。

	1.	撰寫測試：

def test_add():
  assert add(2, 3) == 5  # 預期 2 + 3 的結果是 5

	•	這段測試會失敗，因為我們還沒有定義 add() 函數。

	2.	撰寫最簡單的程式碼讓測試通過：

def add(a, b):
  return a + b

	•	現在測試會通過。

	3.	重構：
	•	如果未來這段程式碼需要優化（例如錯誤處理），你可以重構，但測試會幫助你避免意外破壞功能。

TDD 的優點

	1.	降低錯誤風險：在功能開發前就設置測試，可以及早發現錯誤。
	2.	強化設計：促使開發者思考需求與設計的細節。
	3.	方便維護：測試確保在未來重構時不會破壞原有功能。

TDD 的缺點

	1.	學習門檻高：需要熟悉測試工具與框架。
	2.	開發時間較長：一開始會感覺慢，但長期來看可節省除錯時間。

簡單來說，TDD 是一種「先測試、再開發」的開發方法，能讓程式更加可靠，同時促進良好的設計與維護。

-

測試驅動開發 (Test-Driven Development, TDD) 是什麼？

測試驅動開發（TDD）是一種軟體開發方法論，強調在撰寫程式碼之前先撰寫測試。TDD 的核心概念是以「測試」來引導程式設計與開發流程，確保程式碼不僅能正確執行，還具有高品質和可維護性。

TDD 的流程：

TDD 遵循「紅 - 綠 - 重構（Red - Green - Refactor）」的循環。這三個階段持續交替進行，直到完成開發。

	1.	紅 (Red)：
	•	撰寫失敗的測試，即在程式碼尚未實作前，先撰寫測試案例。
	•	測試會失敗，因為目前還沒有功能對應這些測試。
	2.	綠 (Green)：
	•	撰寫最小可行程式碼來讓測試通過。
	•	目的是快速讓測試變綠燈（通過），但程式碼可以先不追求最佳化。
	3.	重構 (Refactor)：
	•	優化程式碼結構，保持測試仍然通過。
	•	重構的目的是讓程式碼更具可讀性、可維護性，並避免重複程式碼。

TDD 的優點：

	•	提高程式碼品質：每段功能都有對應的測試，減少錯誤機率。
	•	增強開發者信心：隨時可以測試已完成的部分，避免功能被破壞。
	•	促進設計最佳化：強迫開發者以模組化的方式思考設計，提升程式的可維護性。
	•	即時回饋：及早發現錯誤，降低未來修正錯誤的成本。

TDD 的挑戰：

	•	學習成本較高：需要時間習慣這種開發流程。
	•	較高的初期投入：一開始開發會變慢，因為要先撰寫測試。
	•	難以測試非同步或視覺相關功能：需要更複雜的測試技巧來涵蓋某些情境。

簡單範例：TDD 在 JavaScript 中的應用

假設我們想開發一個 add() 函數來計算兩個數字的和。

	1.	Step 1 – 撰寫測試（紅燈階段）：

// add.test.js
const add = require('./add');  // 函數尚未實作

test('add(2, 3) 應該回傳 5', () => {
  expect(add(2, 3)).toBe(5);
});

	•	執行測試時會失敗，因為 add() 函數還不存在。

	2.	Step 2 – 實作基本程式碼（綠燈階段）：

// add.js
function add(a, b) {
  return a + b;
}

module.exports = add;

	•	此時再執行測試，應該會通過。

	3.	Step 3 – 重構（重構階段）：
	•	在此例中，add() 函數已經簡單且清楚，無需進一步重構，但這個階段是檢查和優化程式碼的重要時機。

總結：

TDD 是一種強調測試先行的開發流程，確保在實作程式碼前先確認需求，並讓開發過程更有條理。透過「紅 - 綠 - 重構」的循環，可以持續改善程式品質，並減少錯誤發生的機會。

這種方法適合希望提升程式碼品質、增加可維護性及增強信心的團隊，但需要時間適應和投入初期學習成本。